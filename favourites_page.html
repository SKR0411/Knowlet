<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Favourites Notes</title>
    <link rel="stylesheet" href="assets/styles/nav.css">
    <link rel="stylesheet" href="assets/styles/favourites_page.css"/>
  
</head>
<body>

<div class="container">
    <h1> Your Favourites List</h1>
    <h2>Quick Access to Your Key Units</h2>

    <ul id="favourites-list">
        <li class="empty-message">Loading favourites...</li>
    </ul>
</div>

    <nav class="bottom-nav">
        <a href="index" class="nav-item">
            <span class="icon">ğŸ </span>
            <span class="text">Home</span>
        </a>
        <a href="favourites_page" class="nav-item">
            <span class="icon">ğŸŒŸ</span>
            <span class="text">Favourite</span>
        </a>
        <a href="history_page" class="nav-item">
            <span class="icon">ğŸ“œ</span>
            <span class="text">History</span>
        </a>
        <a href="profile" class="nav-item">
            <span class="icon"><img id="profile-btn" src="assets/images/demo_pp.png"></span>
            <span class="text">Profile</span>
        </a>
    </nav>
    <script src="assets/scripts/nav.js"></script>
    <script>
    (function () {
        const FAVOURITES_KEY = 'unit_page_favourites';
        const favouritesList = document.getElementById('favourites-list');
    
        function renderFavourites() {
            const favs = JSON.parse(localStorage.getItem(FAVOURITES_KEY) || '[]');
            favouritesList.innerHTML = ''; // Clear loading message
    
            if (favs.length === 0) {
                favouritesList.innerHTML = '<li class="empty-message">You have no pages marked as favourite yet. Go to a unit page and click "Add to Favourites"!</li>';
                return;
            }
    
            favs.forEach(item => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `
                    <a href="${item.url}" title="Go to ${item.title}">${item.title}</a>
                `;
                favouritesList.appendChild(listItem);
            });
        }
    
        renderFavourites();
    })();
    </script>

</body>
</html>